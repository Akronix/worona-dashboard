webpackJsonp([4],{19:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOGIN_REQUESTED="accounts/LOGIN_REQUESTED",t.LOGIN_STATUS_CHANGED="accounts/LOGIN_STATUS_CHANGED",t.LOGIN_FAILED="accounts/LOGIN_FAILED",t.LOGIN_SUCCEED="accounts/LOGIN_SUCCEED",t.LOGOUT_REQUESTED="accounts/LOGOUT_REQUESTED",t.LOGOUT_STATUS_CHANGED="accounts/LOGOUT_STATUS_CHANGED",t.LOGOUT_FAILED="accounts/LOGOUT_FAILED",t.LOGOUT_SUCCEED="accounts/LOGOUT_SUCCEED",t.CREATE_ACCOUNT_REQUESTED="accounts/CREATE_ACCOUNT_REQUESTED",t.CREATE_ACCOUNT_STATUS_CHANGED="accounts/CREATE_ACCOUNT_STATUS_CHANGED",t.CREATE_ACCOUNT_FAILED="accounts/CREATE_ACCOUNT_FAILED",t.CREATE_ACCOUNT_SUCCEED="accounts/CREATE_ACCOUNT_SUCCEED"},29:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.createAccountSucceed=t.createAccountFailed=t.createAccountStatusChanged=t.createAccountRequested=t.logoutSucceed=t.logoutFailed=t.logoutStatusChanged=t.logoutRequested=t.loginSucceed=t.loginFailed=t.loginStatusChanged=t.loginRequested=void 0;var c=n(19),u=r(c);t.loginRequested=function(e,t){return{type:u.LOGIN_REQUESTED,email:e,password:t}},t.loginStatusChanged=function(e){return{type:u.LOGIN_STATUS_CHANGED,status:e}},t.loginFailed=function(e){return{type:u.LOGIN_FAILED,error:e}},t.loginSucceed=function(e){return{type:u.LOGIN_SUCCEED,userId:e}},t.logoutRequested=function(){return{type:u.LOGOUT_REQUESTED}},t.logoutStatusChanged=function(e){return{type:u.LOGOUT_STATUS_CHANGED,status:e}},t.logoutFailed=function(e){return{type:u.LOGOUT_FAILED,error:e}},t.logoutSucceed=function(){return{type:u.LOGOUT_SUCCEED}},t.createAccountRequested=function(e,t,n){return{type:u.CREATE_ACCOUNT_REQUESTED,name:e,email:t,password:n}},t.createAccountStatusChanged=function(e){return{type:u.CREATE_ACCOUNT_STATUS_CHANGED,status:e}},t.createAccountFailed=function(e){return{type:u.CREATE_ACCOUNT_FAILED,error:e}},t.createAccountSucceed=function(e){return{type:u.CREATE_ACCOUNT_SUCCEED,userId:e}}},30:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectors=t.types=t.libs=void 0;var r=n(15);t.libs={get call(){return(0,r.dep)("connection","libs","call")},get loginWithPassword(){return(0,r.dep)("connection","libs","loginWithPassword")},get loggedInEventChannel(){return(0,r.dep)("connection","libs","loggedInEventChannel")},get loggedOutEventChannel(){return(0,r.dep)("connection","libs","loggedOutEventChannel")},get logout(){return(0,r.dep)("connection","libs","logout")},get push(){return(0,r.dep)("build","libs","push")}},t.types={get CONNECTION_SUCCEED(){return(0,r.dep)("connection","types","CONNECTION_SUCCEED")}},t.selectors={get isConnected(){return(0,r.dep)("connection","selectors","isConnected")}}},57:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOT_CONNECTED="Not connected. Waiting for connection...",t.CONNECTED_LOGIN_IN="Connected. Waiting to login...",t.LOGIN_IN="Waiting to login...",t.CONNECTED_CREATING_ACCOUNT="Connected. Waiting to create account...",t.CREATING_ACCOUNT="Waiting to create account..."},58:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLoggedIn=function(e){return e.accounts.isLoggedIn},t.userId=function(e){return e.accounts.userId},t.isLoggingIn=function(e){return e.accounts.isLoggingIn},t.loginStatus=function(e){return e.accounts.loginStatus},t.loginError=function(e){return e.accounts.loginError},t.isLoggingOut=function(e){return e.accounts.isLoggingOut},t.isCreatingAccount=function(e){return e.accounts.isCreatingAccount},t.createAccountStatus=function(e){return e.accounts.createAccountStatus},t.createAccountError=function(e){return e.accounts.createAccountError},t.isFirstLogin=function(e){return e.accounts.isFirstLogin}},209:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.sagas=t.selectors=t.reducers=t.types=t.actions=void 0;var c=n(29),u=r(c),a=n(19),o=r(a),s=n(211),i=r(s),l=n(58),E=r(l),C=n(213),d=r(C);t.actions=u,t.types=o,t.reducers=i,t.selectors=E,t.sagas=d},210:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.createAccount=void 0;var c=n(30),u=r(c);t.createAccount=function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?u.libs.call:arguments[3];return r("createAccount",e,t,n)}},211:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.isFirstLogin=t.createAccountError=t.createAccountStatus=t.isCreatingAccount=t.logoutError=t.logoutStatus=t.isLoggingOut=t.loginError=t.loginStatus=t.isLoggingIn=t.userId=t.isLoggedIn=void 0;var c=n(7),u=n(19),a=r(u),o=t.isLoggedIn=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case a.LOGIN_SUCCEED:return!0;case a.LOGOUT_SUCCEED:return!1;default:return e}},s=t.userId=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=arguments[1];switch(t.type){case a.LOGIN_SUCCEED:return t.userId;case a.LOGOUT_SUCCEED:return null;default:return e}},i=t.isLoggingIn=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case a.LOGIN_REQUESTED:return!0;case a.LOGIN_FAILED:case a.LOGIN_SUCCEED:return!1;default:return e}},l=t.loginStatus=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case a.LOGIN_STATUS_CHANGED:return t.status;case a.LOGIN_SUCCEED:case a.LOGIN_FAILED:return!1;default:return e}},E=t.loginError=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case a.LOGIN_FAILED:return t.error;case a.LOGIN_REQUESTED:case a.LOGIN_SUCCEED:return!1;default:return e}},C=t.isLoggingOut=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case a.LOGOUT_REQUESTED:return!0;case a.LOGOUT_FAILED:case a.LOGOUT_SUCCEED:return!1;default:return e}},d=(t.logoutStatus=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case a.LOGOUT_STATUS_CHANGED:return t.status;case a.LOGOUT_SUCCEED:case a.LOGOUT_FAILED:return!1;default:return e}},t.logoutError=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case a.LOGOUT_FAILED:return t.error;case a.LOGOUT_REQUESTED:case a.LOGOUT_SUCCEED:return!1;default:return e}},t.isCreatingAccount=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case a.CREATE_ACCOUNT_REQUESTED:return!0;case a.CREATE_ACCOUNT_FAILED:case a.CREATE_ACCOUNT_SUCCEED:return!1;default:return e}}),f=t.createAccountStatus=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case a.CREATE_ACCOUNT_STATUS_CHANGED:return t.status;case a.CREATE_ACCOUNT_SUCCEED:case a.CREATE_ACCOUNT_FAILED:return!1;default:return e}},g=t.createAccountError=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case a.CREATE_ACCOUNT_FAILED:return t.error;case a.CREATE_ACCOUNT_REQUESTED:case a.CREATE_ACCOUNT_SUCCEED:return!1;default:return e}},O=t.isFirstLogin=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments[1];switch(t.type){case a.CREATE_ACCOUNT_SUCCEED:return!0;case a.LOGOUT_SUCCEED:return!1;default:return e}};t["default"]=function(){return(0,c.combineReducers)({isLoggedIn:o,userId:s,isLoggingIn:i,loginError:E,loginStatus:l,isLoggingOut:C,isCreatingAccount:d,createAccountError:g,createAccountStatus:f,isFirstLogin:O})}},212:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function c(e){var t,n=e.name,r=e.email,u=e.password;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(O.selectors.isConnected);case 2:if(!e.sent){e.next=21;break}return e.prev=3,e.next=6,(0,o.put)(C.createAccountStatusChanged(s.CREATING_ACCOUNT));case 6:return e.next=8,(0,o.call)(l.createAccount,n,r,u);case 8:return t=e.sent,e.next=11,(0,o.put)(C.createAccountSucceed(t));case 11:return e.next=13,(0,o.put)(C.loginRequested(r,u));case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e["catch"](3),e.next=19,(0,o.put)(C.createAccountFailed(e.t0));case 19:e.next=29;break;case 21:return e.next=23,(0,o.put)(C.createAccountStatusChanged(s.NOT_CONNECTED));case 23:return e.next=25,(0,o.take)(O.types.CONNECTION_SUCCEED);case 25:return e.next=27,(0,o.put)(C.createAccountStatusChanged(s.CONNECTED_CREATING_ACCOUNT));case 27:return e.next=29,(0,o.call)(c,{name:n,email:r,password:u});case 29:case"end":return e.stop()}},_[0],this,[[3,15]])}function u(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,a.takeLatest)(f.CREATE_ACCOUNT_REQUESTED,c)];case 2:case"end":return e.stop()}},_[1],this)}Object.defineProperty(t,"__esModule",{value:!0}),t.createAccountSaga=c,t["default"]=u;var a=n(14),o=n(9),s=n(57),i=n(210),l=r(i),E=n(29),C=r(E),d=n(19),f=r(d),g=n(30),O=r(g),_=[c,u].map(regeneratorRuntime.mark)},213:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function c(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,u.fork)(o["default"]),(0,u.fork)(i["default"]),(0,u.fork)(E["default"])];case 2:case"end":return e.stop()}},C[0],this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=c;var u=n(9),a=n(212),o=r(a),s=n(214),i=r(s),l=n(215),E=r(l),C=[c].map(regeneratorRuntime.mark)},214:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function c(e){var t,n=e.email,r=e.password;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.select)(U.selectors.isConnected);case 2:if(!e.sent){e.next=19;break}return e.prev=3,e.next=6,(0,C.put)(p.loginStatusChanged(f.LOGIN_IN));case 6:return e.next=8,(0,C.call)(U.libs.loginWithPassword,n,r);case 8:return t=e.sent,e.next=11,(0,C.put)(p.loginSucceed(t));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e["catch"](3),e.next=17,(0,C.put)(p.loginFailed(e.t0));case 17:e.next=27;break;case 19:return e.next=21,(0,C.put)(p.loginStatusChanged(f.NOT_CONNECTED));case 21:return e.next=23,(0,C.take)(U.types.CONNECTION_SUCCEED);case 23:return e.next=25,(0,C.put)(p.loginStatusChanged(f.CONNECTED_LOGIN_IN));case 25:return e.next=27,(0,C.call)(c,{email:n,password:r});case 27:case"end":return e.stop()}},L[0],this,[[3,13]])}function u(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.takeLatest)(A.LOGIN_REQUESTED,c),"t0",1);case 1:case"end":return e.stop()}},L[1],this)}function a(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.select)(O.isFirstLogin);case 2:if(!e.sent){e.next=7;break}return e.next=5,(0,C.call)(U.libs.push,"/create-first-app");case 5:e.next=9;break;case 7:return e.next=9,(0,C.call)(U.libs.push,"/");case 9:case"end":return e.stop()}},L[2],this)}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,d.takeLatest)(A.LOGIN_SUCCEED,a),"t0",1);case 1:case"end":return e.stop()}},L[3],this)}function s(e){var t,n,r,c;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=3,(0,C.race)({automaticLogin:(0,C.take)(e),manualLogin:(0,C.take)(A.LOGIN_REQUESTED)});case 3:if(t=u.sent,n=t.automaticLogin,!n){u.next=9;break}return u.next=8,(0,C.put)(p.loginSucceed(n));case 8:return u.abrupt("break",17);case 9:return u.next=11,(0,C.race)({success:(0,C.take)(A.LOGIN_SUCCEED),failure:(0,C.take)(A.LOGIN_FAILED)});case 11:if(r=u.sent,c=r.success,!c){u.next=15;break}return u.abrupt("break",17);case 15:u.next=0;break;case 17:case"end":return u.stop()}},L[4],this)}function i(e){var t,n,r,c;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=3,(0,C.race)({automaticLogout:(0,C.take)(e),manualLogout:(0,C.take)(A.LOGOUT_REQUESTED)});case 3:if(t=u.sent,n=t.automaticLogout,!n){u.next=9;break}return u.next=8,(0,C.put)(p.logoutSucceed(n));case 8:return u.abrupt("break",17);case 9:return u.next=11,(0,C.race)({success:(0,C.take)(A.LOGOUT_SUCCEED),failure:(0,C.take)(A.LOGOUT_FAILED)});case 11:if(r=u.sent,c=r.success,!c){u.next=15;break}return u.abrupt("break",17);case 15:u.next=0;break;case 17:case"end":return u.stop()}},L[5],this)}function l(){var e,t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,C.take)(U.types.CONNECTION_SUCCEED);case 2:return n.next=4,(0,C.call)(U.libs.loggedInEventChannel);case 4:return e=n.sent,n.next=7,(0,C.call)(U.libs.loggedOutEventChannel);case 7:t=n.sent;case 8:return n.next=11,(0,C.call)(s,e);case 11:return n.next=13,(0,C.call)(i,t);case 13:n.next=8;break;case 15:case"end":return n.stop()}},L[6],this)}function E(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,C.fork)(u),(0,C.fork)(o),(0,C.fork)(l)];case 2:case"end":return e.stop()}},L[7],this)}Object.defineProperty(t,"__esModule",{value:!0}),t.loginRequestedSaga=c,t.loginRequestedWatcher=u,t.loginSucceedSaga=a,t.loginSucceedWatcher=o,t.loginEvent=s,t.logoutEvent=i,t.logEventsWatcher=l,t["default"]=E;var C=n(9),d=n(14),f=n(57),g=n(58),O=r(g),_=n(29),p=r(_),T=n(19),A=r(T),S=n(30),U=r(S),L=[c,u,a,o,s,i,l,E].map(regeneratorRuntime.mark)},215:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function c(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.call)(O.libs.logout);case 3:return e.next=5,(0,l.put)(f.logoutSucceed());case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e["catch"](0),e.next=11,(0,l.put)(f.logoutFailed(e.t0));case 11:case"end":return e.stop()}},_[0],this,[[0,7]])}function u(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,i.takeLatest)(C.LOGOUT_REQUESTED,c),"t0",1);case 1:case"end":return e.stop()}},_[1],this)}function a(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.call)(O.libs.push,"/login");case 2:case"end":return e.stop()}},_[2],this)}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,i.takeLatest)(C.LOGOUT_SUCCEED,a),"t0",1);case 1:case"end":return e.stop()}},_[3],this)}function s(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,l.fork)(u),(0,l.fork)(o)];case 2:case"end":return e.stop()}},_[4],this)}Object.defineProperty(t,"__esModule",{value:!0}),t.logoutRequestedSaga=c,t.logoutRequestedWatcher=u,t.logoutSucceedSaga=a,t.logoutSucceedWatcher=o,t["default"]=s;var i=n(14),l=n(9),E=n(19),C=r(E),d=n(29),f=r(d),g=n(30),O=r(g),_=[c,u,a,o,s].map(regeneratorRuntime.mark)}});